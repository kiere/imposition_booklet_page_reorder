I could not find an example of how to do this (in English, in Ruby) so after figuring it out myself, I thought I would share it for the next person that needs it.

The issue tracker for this project is enabled, so if you have some useful (or critical) changes, feel free to fork it and send me a pull request.
